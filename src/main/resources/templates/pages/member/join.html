<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/html"
      xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>OnlyU</title>

</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
<body>

<div class="container">
  <div class="join">
    <form id="join-form" action="/authentication/join" method="post">
      <legend>Join</legend>
      <div class="mb-3">
        <label for="email" class="form-label">email</label>
        <input type="email" id="email" class="form-control" name="email"
               placeholder="이메일을 입력해주세요. @ 필수.">
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">password</label>
        <input type="password" id="password" class="form-control" name="password"
               placeholder="비밀번호는 최소 8자리 이상이며, 대문자, 소문자, 숫자, 특수문자를 모두 포함해야 합니다. Password123$ 추천">
      </div>
      <div class="mb-3">
        <label for="nickname" class="form-label">nickname</label>
        <input type="text" id="nickname" class="form-control" name="nickname"
               placeholder="닉네임을 입력해주세요. 중복 불가입니다. 중복 체크는 아직 안만들었습니다. 에러나면 중복일 가능성이 높습니다.">
      </div>

      <button type="submit" class="btn btn-primary">회원가입</button>
      <a href="/">
        <button type="button" class="btn btn-primary">뒤로가기</button>
      </a>
    </form>
  </div>
</div>
</body>
<script>
  const passwordInput = document.querySelector('#password');
  const passwordRegex = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\S+$).{8,}$/;
  const joinForm = document.querySelector('#join-form');

  joinForm.addEventListener('submit', function(event) {
    if (!passwordRegex.test(passwordInput.value)) {
      event.preventDefault();
      alert("비밀번호는 최소 8자리 이상이며, 대문자, 소문자, 숫자, 특수문자를 모두 포함해야 합니다.");
    }
  });
</script>
</html>